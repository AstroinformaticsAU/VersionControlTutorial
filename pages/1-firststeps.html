

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>First steps &mdash; Version Control Tutorial</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Version Control Tutorial" href="../index.html" />
    <link rel="next" title="Viewing and comparing commits" href="2-viewing.html" />
    <link rel="prev" title="Introduction" href="0-intro.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="2-viewing.html" title="Viewing and comparing commits"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0-intro.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Version Control Tutorial</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="first-steps">
<h1>First steps<a class="headerlink" href="#first-steps" title="Permalink to this headline">¶</a></h1>
<p>I&#8217;ll assume that you already have git installed on your system.  If not then
probably the easiest way to achieve this is to download an installer from <a class="reference external" href="http://git-scm.com/downloads">here</a>.</p>
<p>Once you have Git installed, the next step is to provide it with your name and
email address which will be used to sign your commits.  This provides us with
the ability to see who made what changes when collaborating on a project.</p>
<p>Type the following in a terminal, making the obvious substitutions:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">%</span> git config --global user.name <span class="s2">&quot;G Lucas&quot;</span>
<span class="gp">%</span> git config --global user.email glucas@jabbaspalace.edu.au
</pre></div>
</div>
<p>Next you need to tell Git what editor you want to use when Git needs you to type
something:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">%</span> git config --global core.editor vim
</pre></div>
</div>
<p>You should replace <tt class="docutils literal"><span class="pre">vim</span></tt> with what ever your favorite editor is (e.g.
<tt class="docutils literal"><span class="pre">emacs</span></tt>, <tt class="docutils literal"><span class="pre">nano</span></tt>, <tt class="docutils literal"><span class="pre">subl</span></tt>, etc.).</p>
<p>You can also make things a little easier on the eyes by telling Git to add some
color to its messages:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">%</span> git config --global color.ui <span class="nb">true</span>
</pre></div>
</div>
<p>Now that your all set up we can start looking at actually using Git for version
control.  In what follows, we will use writing and collaborating on a LaTeX
paper as an example project...</p>
<div class="section" id="creating-a-repository">
<h2>Creating a repository<a class="headerlink" href="#creating-a-repository" title="Permalink to this headline">¶</a></h2>
<p>First of all we need to start our paper by creating a repository.</p>
<p>Decide where you would like your paper to be stored and <tt class="docutils literal"><span class="pre">cd</span></tt> to that
directory.  Once there, create a new directory for the paper:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">%</span> mkdir dummy_paper
<span class="gp">%</span> <span class="nb">cd </span>dummy_paper
</pre></div>
</div>
<p>Now initialise your empty repository by typing:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">%</span> git init
</pre></div>
</div>
<p>To check everything has been successful type:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">%</span> ls -a
</pre></div>
</div>
<p>and you should see the directory <tt class="docutils literal"><span class="pre">.git</span></tt>.  This special folder is where Git
will store and manage the version control history of your project.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Unless you are familiar with Git it is generally best to avoid touching the
<tt class="docutils literal"><span class="pre">.git</span></tt> folder or it&#8217;s contents.</p>
</div>
</div>
<div class="section" id="adding-files">
<h2>Adding files<a class="headerlink" href="#adding-files" title="Permalink to this headline">¶</a></h2>
<p>Now we have our fresh Git repository.  The next step is to start adding files!</p>
<p>Use your editor of choice to start a LaTeX file named <tt class="docutils literal"><span class="pre">paper.tex</span></tt> in your
project directory (<tt class="docutils literal"><span class="pre">dummy_paper</span></tt>).   Add the following to your file and save
your changes:</p>
<div class="highlight-latex"><div class="highlight"><pre><span class="k">\documentclass</span><span class="nb">{</span>article<span class="nb">}</span>

<span class="k">\title</span><span class="nb">{</span>A dummy paper<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>
<span class="k">\maketitle</span>

<span class="k">\section</span><span class="nb">{</span>Introduction<span class="nb">}</span>
A long time ago in a galaxy far, far away...

<span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</pre></div>
</div>
<p>Now let&#8217;s check the status of our repository using the following command:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">%</span> git status
</pre></div>
</div>
<p>You should see something similar to the following:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> On branch master
<span class="gp">#</span>
<span class="gp">#</span> Initial commit
<span class="gp">#</span>
<span class="gp">#</span> Untracked files:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to include in what will be committed<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>   paper.tex
<span class="go">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span>
</pre></div>
</div>
<p>This tells us that <tt class="docutils literal"><span class="pre">paper.tex</span></tt> currently falls under the category of
&#8220;untracked&#8221; files.  In other words, Git is not tracking any changes we make to
this file.</p>
<p>In order to tell Git to start tracking our new file, use the following command:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">%</span> git add paper.tex
</pre></div>
</div>
</div>
<div class="section" id="committing-changes">
<h2>Committing changes<a class="headerlink" href="#committing-changes" title="Permalink to this headline">¶</a></h2>
<p>At this point, if you type again:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">%</span> git status
</pre></div>
</div>
<p>you should see something like the following:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> On branch master
<span class="gp">#</span>
<span class="gp">#</span> Initial commit
<span class="gp">#</span>
<span class="gp">#</span> Changes to be committed:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git rm --cached &lt;file&gt;...&quot;</span> to unstage<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>   new file:   paper.tex
<span class="gp">#</span>
</pre></div>
</div>
<p>This tells us that we have changes to our repository (here the creation of a new
file called <tt class="docutils literal"><span class="pre">paper.tex</span></tt>) that need to be &#8220;committed&#8221;.</p>
<p>Committing changes to the repository is the key step of version control.  This
is where we save a snapshot of the current state of all tracked files.  To
commit our current changes type:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">%</span> git commit
</pre></div>
</div>
<p>This will bring up your favorite editor to allow you to provide a &#8220;commit
message&#8221;.  On the <strong>first line</strong> of the file write the following commit
message:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">Add basic structure of paper.tex</span>
</pre></div>
</div>
<p>then save and exit.</p>
<p>That&#8217;s it!  We have now created a repository, added our first file and committed
our changes.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>Writing good commit messages will make your life much easier in future when
trying to track down particular changes.  The first line should be a short
(i.e. less than 80 characters), descriptive message that makes it clear what
the relevant changes being committed are.  If more detail is required then
leave a blank line and add a longer more descriptive message there.</p>
<p class="last">Also note that the norm is to use the future tense in a commit message.
i.e. if you were to apply the changes in the commit, the message would say
what would happen...</p>
</div>
</div>
<div class="section" id="staging-modified-files">
<h2>Staging modified files<a class="headerlink" href="#staging-modified-files" title="Permalink to this headline">¶</a></h2>
<p>Add another section to <tt class="docutils literal"><span class="pre">paper.tex</span></tt> with the following:</p>
<div class="highlight-latex"><div class="highlight"><pre><span class="k">\section</span><span class="nb">{</span>A New Hope<span class="nb">}</span>
That&#39;s no moon, that&#39;s a battle station.
</pre></div>
</div>
<p>If you now run <tt class="docutils literal"><span class="pre">git</span> <span class="pre">status</span></tt>, you should see the following:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> On branch master
<span class="gp">#</span> Changes not staged <span class="k">for </span>commit:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed<span class="o">)</span>
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes in working directory<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>   modified:   paper.tex
<span class="gp">#</span>
<span class="go">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span>
</pre></div>
</div>
<p>What Git now tells us is that <tt class="docutils literal"><span class="pre">paper.tex</span></tt> falls under the category of
&#8220;Changes not staged for commit&#8221;.  This means the file has changed since the last
commit, however, we haven&#8217;t told Git that we want to include these new changes
in our next commit.  To do that, we must &#8220;stage&#8221; the file using <tt class="docutils literal"><span class="pre">git</span> <span class="pre">add</span></tt>
again:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">%</span> git add paper.tex
</pre></div>
</div>
<p>A final check with <tt class="docutils literal"><span class="pre">git</span> <span class="pre">status</span></tt> should show that <tt class="docutils literal"><span class="pre">paper.tex</span></tt> now falls
under the category of &#8220;Changes to be committed&#8221;.</p>
<div class="topic" id="exercise-1a">
<p class="topic-title first">Exercise 1a</p>
<p>Add another file to your git repository called <tt class="docutils literal"><span class="pre">appendix.tex</span></tt>.  You can
put whatever you want in here (or just leave it empty), but don&#8217;t forget to
<tt class="docutils literal"><span class="pre">add</span></tt> it to your repository.</p>
<p>Go ahead and commit your staged changes to both <tt class="docutils literal"><span class="pre">paper.tex</span></tt> and
<tt class="docutils literal"><span class="pre">appendix.tex</span></tt>.</p>
</div>
</div>
<div class="section" id="dealing-with-mistakes">
<h2>Dealing with mistakes<a class="headerlink" href="#dealing-with-mistakes" title="Permalink to this headline">¶</a></h2>
<p>Perhaps you make a typo in your commit message, or maybe you forget to stage an
important change before committing.  In this case you can easily amend your
last commit using the <tt class="docutils literal"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--amend</span></tt> command.</p>
<p>Let&#8217;s imagine that we forgot to add the file <tt class="docutils literal"><span class="pre">bibliography.tex</span></tt> to our
repository when we made our last commit.  To fix this, first create the file and
then stage it into the index.  Finally, run <tt class="docutils literal"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--amend</span></tt>:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">%</span> touch bibliography.tex
<span class="gp">%</span> git add bibliography.tex
<span class="gp">%</span> git commit --amend
</pre></div>
</div>
<p>You will then be given the opportunity to change the last commit message if you
want to.</p>
</div>
<div class="section" id="deleting-and-moving-files">
<h2>Deleting and moving files<a class="headerlink" href="#deleting-and-moving-files" title="Permalink to this headline">¶</a></h2>
<p>To delete a file in your repository use the <tt class="docutils literal"><span class="pre">git</span> <span class="pre">rm</span></tt> command.  This will both
delete the file from the file system and stage this deletion action for your
next commit.</p>
<p>Alternatively, you can tell Git to remove a file from the repository (stop
tracking the file) without actually deleting it from the file system.  This is
achieved by passing the <tt class="docutils literal"><span class="pre">--cached</span></tt> flag to the <tt class="docutils literal"><span class="pre">rm</span></tt> command (i.e. <tt class="docutils literal"><span class="pre">git</span> <span class="pre">rm</span>
<span class="pre">--cached</span> <span class="pre">&lt;filename&gt;</span></tt>).</p>
<div class="topic">
<p class="topic-title first">Exercise 1b</p>
<p>Remove the bibliography.tex file you added in <a class="reference internal" href="#exercise-1a"><em>Exercise
1a</em></a> using the <tt class="docutils literal"><span class="pre">git</span> <span class="pre">rm</span> <span class="pre">&lt;file&gt;</span></tt> command.  Remember to commit
afterwards!</p>
</div>
<p>To move or rename a file, use the <tt class="docutils literal"><span class="pre">git</span> <span class="pre">mv</span></tt> command.  This will again both move
the file and stage this change to the repository.</p>
</div>
<div class="section" id="the-circle-of-life">
<h2>The circle of life<a class="headerlink" href="#the-circle-of-life" title="Permalink to this headline">¶</a></h2>
<p>At this point we have covered the basic &#8220;life cycle&#8221; of files and changes in
Git.  Each file can have one of four different states:</p>
<ul class="simple">
<li><strong>Untracked</strong>: It&#8217;s not listed in the last commit</li>
<li><strong>Unmodified</strong>: It hasn&#8217;t changed since the last commit</li>
<li><strong>Modified</strong>: It has changed since the last commit</li>
<li><strong>Staged</strong>: The changes will be recorded in the next commit made</li>
</ul>
<p>The method with which we move each file from one state to another is outlined in
the following diagram:</p>
<div class="figure align-center">
<img alt="../_images/file-lifecycle.png" src="../_images/file-lifecycle.png" style="width: 50%;" />
<p class="caption">Credit: The <a class="reference external" href="http://git-scm.com/book/en/Git-Basics-Recording-Changes-to-the-Repository">Pro Git</a>
book.</p>
</div>
</div>
<div class="section" id="command-summary">
<h2>Command summary<a class="headerlink" href="#command-summary" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">git</span> <span class="pre">init</span></tt></td>
<td>Initialise a new Git repository.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">git</span> <span class="pre">status</span></tt></td>
<td>Check the current status of a repository.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">git</span> <span class="pre">add</span></tt></td>
<td>Stage new and modified files.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">git</span> <span class="pre">commit</span></tt></td>
<td>Commit staged changes.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--amend</span></tt></td>
<td>Amend the last commit</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">git</span> <span class="pre">rm</span></tt></td>
<td>Delete a file and stage this change.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">git</span> <span class="pre">mv</span></tt></td>
<td>Move a file and stage this change.</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">First steps</a><ul>
<li><a class="reference internal" href="#creating-a-repository">Creating a repository</a></li>
<li><a class="reference internal" href="#adding-files">Adding files</a></li>
<li><a class="reference internal" href="#committing-changes">Committing changes</a></li>
<li><a class="reference internal" href="#staging-modified-files">Staging modified files</a></li>
<li><a class="reference internal" href="#dealing-with-mistakes">Dealing with mistakes</a></li>
<li><a class="reference internal" href="#deleting-and-moving-files">Deleting and moving files</a></li>
<li><a class="reference internal" href="#the-circle-of-life">The circle of life</a></li>
<li><a class="reference internal" href="#command-summary">Command summary</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="0-intro.html"
                        title="previous chapter">Introduction</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="2-viewing.html"
                        title="next chapter">Viewing and comparing commits</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="2-viewing.html" title="Viewing and comparing commits"
             >next</a> |</li>
        <li class="right" >
          <a href="0-intro.html" title="Introduction"
             >previous</a> |</li>
        <li><a href="../index.html">Version Control Tutorial</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Simon Mutch.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>